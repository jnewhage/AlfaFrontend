{"ast":null,"code":"var _jsxFileName = \"/home/john/AlfaFinal/frontend/src/components/login.js\";\nimport React, { Component } from 'react';\nimport '../App.css';\nimport $ from 'jquery';\nimport '../assets/css/login.css';\nimport '../assets/css/alfa_style.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport avatar from \"../assets/images/avatar.jpg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LoginComponent extends Component {\n  constructor() {\n    super();\n    this.showPassword = this.showPassword.bind(this);\n    this.state = {\n      fields: {},\n      errors: {},\n      hidden: true,\n      redirect: false\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:3001/login.js/').then(res => res.json()).then(data => {\n      this.setState(prevState => {\n        return {\n          fields: data.info\n        };\n      });\n    });\n  }\n\n  postData(event) {\n    event.preventDefault();\n    let data = this.state.fields; // let data = { email: this.state.tempBrand, model: this.state.tempModel, year: this.state.tempYear };\n\n    let options = {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    };\n    fetch('http://localhost:3001/login.js/', options);\n  } // delData() {\n  //   let data = { brand: this.state.delBrand, model: this.state.delModel, year: this.state.delYear };\n  //   let options = {\n  //     method: 'delete',\n  //     headers: {\n  //       'Content-Type': 'application/json'\n  //     },\n  //     body: JSON.stringify(data)\n  //   }\n  //   fetch('http://localhost:3001/dealership/', options);\n  // }\n\n\n  updateData() {\n    let data = this.state.fields; // let data = { brand: this.state.updateBrand, model: this.state.updateModel, year: this.state.updateYear, id: this.state.updateID };\n\n    let options = {\n      method: 'put',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    };\n    fetch('http://localhost:3001/login.js/', options);\n  }\n\n  getData() {\n    fetch('http://localhost:3001/login.js/').then(res => res.json()).then(data => {\n      console.log(data);\n      this.setState(prevState => {\n        return {\n          fields: data.info\n        };\n      } // I added the .info to data.info\n      );\n    });\n  } // handleChange(event) {\n  //   this.setState({ [event.target.name]: event.target.value });\n  // }\n\n\n  handleChange(field, e) {\n    let fields = this.state.fields;\n    fields[field] = e.target.value;\n    this.setState({\n      fields\n    });\n  } // componentDidMount() {\n  //   var id = this.getCookie(\"id\");\n  //   var pass = this.getCookie(\"pass\");\n  //   if (id && pass) {\n  //     document.getElementById(\"email\").value = id;\n  //     document.getElementById(\"password\").value = pass;\n  //     $(\"#myCheck\").prop(\"checked\", true);\n  //   } else {\n  //     this.deleteCookie(\"pass\");\n  //     this.deleteCookie(\"id\");\n  //     this.clearFunc();\n  //     $(\"#myCheck\").prop(\"checked\", false);\n  //   }\n  // }\n  //Reset input fields\n\n\n  clearFunc() {\n    let fields = this.state.fields;\n    fields[\"email\"] = \"\";\n    fields[\"password\"] = \"\";\n    this.setState({\n      fields: fields\n    });\n  } // Remember Input fields\n\n\n  setRememberChkBox() {\n    if (this.getCookie(\"id\") != null && this.getCookie(\"pass\") != null) {\n      this.deleteCookie(\"pass\");\n      this.deleteCookie(\"id\");\n      this.clearFunc();\n    }\n  } // Show the password\n\n\n  showPassword() {\n    this.setState({\n      hidden: !this.state.hidden\n    });\n  } // delete individual cookies\n\n\n  deleteCookie(name) {\n    // Set expire to an older date\n    document.cookie = name + \"= ; expires = Thu, 01 Jan 1970 00:00:00 GMT; path=/\";\n  } // Set individual cookies\n\n\n  setCookie(name, value, days) {\n    var expires = \"\";\n\n    if (days) {\n      var date = new Date();\n      date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n      expires = \"; expires=\" + date.toUTCString();\n    }\n\n    document.cookie = name + \"=\" + (value || \"\") + expires + \"; path=/\";\n  } // Get individual cookies\n\n\n  getCookie(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n\n      while (c.charAt(0) === ' ') c = c.substring(1, c.length);\n\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n    }\n\n    return null;\n  }\n\n  handleValidation() {\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = false;\n\n    if (typeof fields[\"email\"] !== \"undefined\" || typeof fields[\"password\"] !== \"undefined\") {\n      if (fields[\"email\"] !== \"guest@gmail.com\" && fields[\"password\"] !== \"guest\") {\n        formIsValid = false;\n        errors[\"email\"] = \"Incorrect email!\";\n        errors[\"password\"] = \"Incorrect password!\";\n      }\n    }\n\n    if (fields[\"email\"] === \"guest@gmail.com\" && fields[\"password\"] === \"guest\") {\n      formIsValid = true;\n    }\n\n    this.setState({\n      errors: errors\n    });\n    return formIsValid;\n  }\n\n  contactSubmit(e) {\n    e.preventDefault();\n\n    if (this.handleValidation()) {\n      window.location = \"./home.js\";\n      alert(\"You have successfully logged in!\");\n    } else {\n      window.location = \"./login.js\";\n      alert(\"You have typed either the wrong email or password!\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Sign in to Your Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          action: \"./home.js\",\n          onSubmit: (e => {\n            this.postData(e);\n          }, this.contactSubmit.bind(this)),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            align: \"center\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: avatar,\n              alt: \"./assets/images/avatar.jpg\",\n              className: \"img-circle avatar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            align: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              ref: \"email\",\n              name: \"email\",\n              type: \"text\",\n              className: \"form-control\",\n              placeholder: \"Enter email\",\n              onChange: this.handleChange.bind(this, \"email\"),\n              value: this.state.fields[\"email\"],\n              required: \"required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: \"password\",\n              name: \"password\",\n              type: this.state.hidden ? 'password' : 'text',\n              className: \"form-control\",\n              placeholder: \"Enter password\",\n              onChange: this.handleChange.bind(this, \"password\"),\n              value: this.state.fields[\"password\"],\n              required: \"required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            align: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-success btn-lg btn-block\",\n              children: \"Sign in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"reset\",\n              className: \"btn btn-primary btn-block\",\n              children: \"Reset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            onClick: this.showPassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), \"Show Password\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            value: \"0\",\n            onClick: this.setRememberChkBox(),\n            id: \"myCheck\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), \"Remember\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            className: \"valid\",\n            children: [\"User Name : guest@gmail.com\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 65\n            }, this), \"Password : guest\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center\",\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"signup.js\",\n            children: \"Create an Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default LoginComponent;","map":{"version":3,"sources":["/home/john/AlfaFinal/frontend/src/components/login.js"],"names":["React","Component","$","avatar","LoginComponent","constructor","showPassword","bind","state","fields","errors","hidden","redirect","componentDidMount","fetch","then","res","json","data","setState","prevState","info","postData","event","preventDefault","options","method","headers","body","JSON","stringify","updateData","getData","console","log","handleChange","field","e","target","value","clearFunc","setRememberChkBox","getCookie","deleteCookie","name","document","cookie","setCookie","days","expires","date","Date","setTime","getTime","toUTCString","nameEQ","ca","split","i","length","c","charAt","substring","indexOf","handleValidation","formIsValid","contactSubmit","window","location","alert","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../App.css';\nimport $ from 'jquery';\nimport '../assets/css/login.css';\nimport '../assets/css/alfa_style.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport avatar from \"../assets/images/avatar.jpg\";\n\n\nclass LoginComponent extends Component {\n  constructor() {\n    super();\n    this.showPassword = this.showPassword.bind(this);\n    this.state = {\n      fields: {},\n      errors: {},\n      hidden: true,\n      redirect: false\n    };\n  }\n\n\n\n\n  componentDidMount() {\n    fetch('http://localhost:3001/login.js/')\n      .then(res => res.json())\n      .then(data => {\n        this.setState(\n          (prevState) => { return { fields: data.info } }\n        )\n      });\n  }\n\n  postData(event) {\n    event.preventDefault();\n    let data = this.state.fields;\n\n    // let data = { email: this.state.tempBrand, model: this.state.tempModel, year: this.state.tempYear };\n    let options = {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }\n    fetch('http://localhost:3001/login.js/', options);\n  }\n\n  // delData() {\n  //   let data = { brand: this.state.delBrand, model: this.state.delModel, year: this.state.delYear };\n  //   let options = {\n  //     method: 'delete',\n  //     headers: {\n  //       'Content-Type': 'application/json'\n  //     },\n  //     body: JSON.stringify(data)\n  //   }\n  //   fetch('http://localhost:3001/dealership/', options);\n  // }\n\n  updateData() {\n    let data = this.state.fields;\n\n    // let data = { brand: this.state.updateBrand, model: this.state.updateModel, year: this.state.updateYear, id: this.state.updateID };\n    let options = {\n      method: 'put',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }\n    fetch('http://localhost:3001/login.js/', options);\n  }\n\n  getData() {\n    fetch('http://localhost:3001/login.js/')\n      .then(res => res.json())\n      .then(data => {\n        console.log(data);\n        this.setState(\n          (prevState) => { return { fields: data.info } }  // I added the .info to data.info\n        )\n      });\n  }\n\n  // handleChange(event) {\n  //   this.setState({ [event.target.name]: event.target.value });\n  // }\n\n\n  handleChange(field, e) {\n    let fields = this.state.fields;\n    fields[field] = e.target.value;\n    this.setState({ fields });\n  }\n\n\n\n  // componentDidMount() {\n  //   var id = this.getCookie(\"id\");\n  //   var pass = this.getCookie(\"pass\");\n\n  //   if (id && pass) {\n  //     document.getElementById(\"email\").value = id;\n  //     document.getElementById(\"password\").value = pass;\n  //     $(\"#myCheck\").prop(\"checked\", true);\n\n  //   } else {\n  //     this.deleteCookie(\"pass\");\n  //     this.deleteCookie(\"id\");\n  //     this.clearFunc();\n  //     $(\"#myCheck\").prop(\"checked\", false);\n  //   }\n  // }\n\n  //Reset input fields\n  clearFunc() {\n    let fields = this.state.fields;\n\n    fields[\"email\"] = \"\";\n    fields[\"password\"] = \"\";\n\n    this.setState({ fields: fields });\n  }\n\n  // Remember Input fields\n  setRememberChkBox() {\n    if (this.getCookie(\"id\") != null && this.getCookie(\"pass\") != null) {\n      this.deleteCookie(\"pass\");\n      this.deleteCookie(\"id\");\n      this.clearFunc();\n    }\n  }\n\n  // Show the password\n  showPassword() {\n    this.setState({ hidden: !this.state.hidden });\n  }\n\n  // delete individual cookies\n  deleteCookie(name) {\n    // Set expire to an older date\n    document.cookie = name + \"= ; expires = Thu, 01 Jan 1970 00:00:00 GMT; path=/\";\n  }\n\n  // Set individual cookies\n  setCookie(name, value, days) {\n    var expires = \"\";\n    if (days) {\n      var date = new Date();\n      date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n      expires = \"; expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (value || \"\") + expires + \"; path=/\";\n  }\n\n  // Get individual cookies\n  getCookie(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n      while (c.charAt(0) === ' ') c = c.substring(1, c.length);\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n  }\n\n\n\n  handleValidation() {\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = false;\n\n    if (typeof fields[\"email\"] !== \"undefined\" || typeof fields[\"password\"] !== \"undefined\") {\n      if (fields[\"email\"] !== \"guest@gmail.com\" && fields[\"password\"] !== \"guest\") {\n        formIsValid = false;\n        errors[\"email\"] = \"Incorrect email!\";\n        errors[\"password\"] = \"Incorrect password!\";\n      }\n    }\n\n    if (fields[\"email\"] === \"guest@gmail.com\" && fields[\"password\"] === \"guest\") {\n      formIsValid = true;\n    }\n\n    this.setState({ errors: errors });\n    return formIsValid;\n  }\n\n  contactSubmit(e) {\n    e.preventDefault();\n\n    if (this.handleValidation()) {\n      window.location = \"./home.js\";\n      alert(\"You have successfully logged in!\");\n    } else {\n      window.location = \"./login.js\";\n      alert(\"You have typed either the wrong email or password!\")\n    }\n\n  }\n\n  render() {\n    return (\n      <div id=\"main\">\n        <div className=\"login-form\">\n          <h2>Sign in to Your Account</h2>\n          {/* <form action=\"./home.js\" onSubmit={this.contactSubmit.bind(this)} > */}\n          <form action=\"./home.js\" onSubmit={(e) => { this.postData(e) }, this.contactSubmit.bind(this)} >\n            <div className=\"text-center\" align=\"center\">\n              <img src={avatar} alt=\"./assets/images/avatar.jpg\" className=\"img-circle avatar\" />\n            </div>\n\n            <div className=\"form-group\" align=\"center\">\n              <input\n                ref=\"email\"\n                name=\"email\"\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Enter email\"\n                onChange={this.handleChange.bind(this, \"email\")}\n                value={this.state.fields[\"email\"]}\n                required=\"required\" />\n\n              <input\n                ref=\"password\"\n                name=\"password\"\n                type={this.state.hidden ? 'password' : 'text'}\n                className=\"form-control\"\n                placeholder=\"Enter password\"\n                onChange={this.handleChange.bind(this, \"password\")}\n                value={this.state.fields[\"password\"]}\n                required=\"required\" />\n            </div>\n\n            <div className=\"form-group\" align=\"center\">\n              <button type=\"submit\" className=\"btn btn-success btn-lg btn-block\" >Sign in</button>\n              <button type=\"reset\" className=\"btn btn-primary btn-block\" >Reset</button>\n            </div>\n            <input type=\"checkbox\" onClick={this.showPassword} />Show Password\n            <br />\n            <input type=\"checkbox\" value=\"0\" onClick={this.setRememberChkBox()} id=\"myCheck\" />Remember\n          </form>\n          <span><b className=\"valid\">User Name : guest@gmail.com<br />Password : guest</b></span>\n          <p className=\"text-center\" align=\"center\"><a href=\"signup.js\">Create an Account</a></p>\n        </div>\n      </div >\n    );\n  }\n}\n\nexport default LoginComponent;"]},"metadata":{},"sourceType":"module"}