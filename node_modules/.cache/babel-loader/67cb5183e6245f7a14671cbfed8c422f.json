{"ast":null,"code":"var _jsxFileName = \"/home/john/AlfaFinal/frontend/src/components/login.js\";\nimport React, { Component } from 'react';\nimport '../App.css';\nimport $ from 'jquery';\nimport '../assets/css/login.css';\nimport '../assets/css/alfa_style.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport avatar from \"../assets/images/avatar.jpg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LoginComponent extends Component {\n  constructor() {\n    super();\n    this.showPassword = this.showPassword.bind(this);\n    this.state = {\n      fields: {},\n      errors: {},\n      hidden: true,\n      redirect: false\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:3001/dealership/').then(res => res.json()).then(data => {\n      this.setState(prevState => {\n        return {\n          dealer: data.info\n        };\n      });\n    });\n  }\n\n  postData(event) {\n    event.preventDefault();\n    let data = {\n      brand: this.state.tempBrand,\n      model: this.state.tempModel,\n      year: this.state.tempYear\n    };\n    let options = {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    };\n    fetch('http://localhost:3001/dealership/', options);\n  }\n\n  delData() {\n    let data = {\n      brand: this.state.delBrand,\n      model: this.state.delModel,\n      year: this.state.delYear\n    };\n    let options = {\n      method: 'delete',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    };\n    fetch('http://localhost:3001/dealership/', options);\n  }\n\n  updateData() {\n    let data = {\n      brand: this.state.updateBrand,\n      model: this.state.updateModel,\n      year: this.state.updateYear,\n      id: this.state.updateID\n    };\n    let options = {\n      method: 'put',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    };\n    fetch('http://localhost:3001/dealership/', options);\n  }\n\n  getData() {\n    fetch('http://localhost:3001/dealership/').then(res => res.json()).then(data => {\n      console.log(data);\n      this.setState(prevState => {\n        return {\n          dealer: data.info\n        };\n      } // I added the .info to data.info\n      );\n    });\n  } // handleChange(event) {\n  //   this.setState({ [event.target.name]: event.target.value });\n  // }\n\n\n  handleChange(field, e) {\n    let fields = this.state.fields;\n    fields[field] = e.target.value;\n    this.setState({\n      fields\n    });\n  } // componentDidMount() {\n  //   var id = this.getCookie(\"id\");\n  //   var pass = this.getCookie(\"pass\");\n  //   if (id && pass) {\n  //     document.getElementById(\"email\").value = id;\n  //     document.getElementById(\"password\").value = pass;\n  //     $(\"#myCheck\").prop(\"checked\", true);\n  //   } else {\n  //     this.deleteCookie(\"pass\");\n  //     this.deleteCookie(\"id\");\n  //     this.clearFunc();\n  //     $(\"#myCheck\").prop(\"checked\", false);\n  //   }\n  // }\n  //Reset input fields\n\n\n  clearFunc() {\n    let fields = this.state.fields;\n    fields[\"email\"] = \"\";\n    fields[\"password\"] = \"\";\n    this.setState({\n      fields: fields\n    });\n  } // Remember Input fields\n\n\n  setRememberChkBox() {\n    if (this.getCookie(\"id\") != null && this.getCookie(\"pass\") != null) {\n      this.deleteCookie(\"pass\");\n      this.deleteCookie(\"id\");\n      this.clearFunc();\n    }\n  } // Show the password\n\n\n  showPassword() {\n    this.setState({\n      hidden: !this.state.hidden\n    });\n  } // delete individual cookies\n\n\n  deleteCookie(name) {\n    // Set expire to an older date\n    document.cookie = name + \"= ; expires = Thu, 01 Jan 1970 00:00:00 GMT; path=/\";\n  } // Set individual cookies\n\n\n  setCookie(name, value, days) {\n    var expires = \"\";\n\n    if (days) {\n      var date = new Date();\n      date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n      expires = \"; expires=\" + date.toUTCString();\n    }\n\n    document.cookie = name + \"=\" + (value || \"\") + expires + \"; path=/\";\n  } // Get individual cookies\n\n\n  getCookie(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n\n      while (c.charAt(0) === ' ') c = c.substring(1, c.length);\n\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n    }\n\n    return null;\n  }\n\n  handleValidation() {\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = false;\n\n    if (typeof fields[\"email\"] !== \"undefined\" || typeof fields[\"password\"] !== \"undefined\") {\n      if (fields[\"email\"] !== \"guest@gmail.com\" && fields[\"password\"] !== \"guest\") {\n        formIsValid = false;\n        errors[\"email\"] = \"Incorrect email!\";\n        errors[\"password\"] = \"Incorrect password!\";\n      }\n    }\n\n    if (fields[\"email\"] === \"guest@gmail.com\" && fields[\"password\"] === \"guest\") {\n      formIsValid = true;\n    }\n\n    this.setState({\n      errors: errors\n    });\n    return formIsValid;\n  }\n\n  contactSubmit(e) {\n    e.preventDefault();\n\n    if (this.handleValidation()) {\n      window.location = \"./home.js\";\n      alert(\"You have successfully logged in!\");\n    } else {\n      window.location = \"./login.js\";\n      alert(\"You have typed either the wrong email or password!\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Sign in to Your Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          action: \"./home.js\",\n          onSubmit: (e => {\n            this.postData(e);\n          }, this.contactSubmit.bind(this)),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            align: \"center\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: avatar,\n              alt: \"./assets/images/avatar.jpg\",\n              className: \"img-circle avatar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            align: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              ref: \"email\",\n              name: \"email\",\n              type: \"text\",\n              className: \"form-control\",\n              placeholder: \"Enter email\",\n              onChange: this.handleChange.bind(this, \"email\"),\n              value: this.state.fields[\"email\"],\n              required: \"required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: \"password\",\n              name: \"password\",\n              type: this.state.hidden ? 'password' : 'text',\n              className: \"form-control\",\n              placeholder: \"Enter password\",\n              onChange: this.handleChange.bind(this, \"password\"),\n              value: this.state.fields[\"password\"],\n              required: \"required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            align: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-success btn-lg btn-block\",\n              children: \"Sign in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"reset\",\n              className: \"btn btn-primary btn-block\",\n              children: \"Reset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            onClick: this.showPassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), \"Show Password\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            value: \"0\",\n            onClick: this.setRememberChkBox(),\n            id: \"myCheck\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), \"Remember\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            className: \"valid\",\n            children: [\"User Name : guest@gmail.com\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 65\n            }, this), \"Password : guest\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center\",\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"signup.js\",\n            children: \"Create an Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default LoginComponent;","map":{"version":3,"sources":["/home/john/AlfaFinal/frontend/src/components/login.js"],"names":["React","Component","$","avatar","LoginComponent","constructor","showPassword","bind","state","fields","errors","hidden","redirect","componentDidMount","fetch","then","res","json","data","setState","prevState","dealer","info","postData","event","preventDefault","brand","tempBrand","model","tempModel","year","tempYear","options","method","headers","body","JSON","stringify","delData","delBrand","delModel","delYear","updateData","updateBrand","updateModel","updateYear","id","updateID","getData","console","log","handleChange","field","e","target","value","clearFunc","setRememberChkBox","getCookie","deleteCookie","name","document","cookie","setCookie","days","expires","date","Date","setTime","getTime","toUTCString","nameEQ","ca","split","i","length","c","charAt","substring","indexOf","handleValidation","formIsValid","contactSubmit","window","location","alert","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../App.css';\nimport $ from 'jquery';\nimport '../assets/css/login.css';\nimport '../assets/css/alfa_style.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport avatar from \"../assets/images/avatar.jpg\";\n\n\nclass LoginComponent extends Component {\n  constructor() {\n    super();\n    this.showPassword = this.showPassword.bind(this);\n    this.state = {\n      fields: {},\n      errors: {},\n      hidden: true,\n      redirect: false\n    };\n  }\n\n\n\n\n  componentDidMount() {\n    fetch('http://localhost:3001/dealership/')\n      .then(res => res.json())\n      .then(data => {\n        this.setState(\n          (prevState) => { return { dealer: data.info } }\n        )\n      });\n  }\n  postData(event) {\n    event.preventDefault();\n    let data = { brand: this.state.tempBrand, model: this.state.tempModel, year: this.state.tempYear };\n    let options = {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }\n    fetch('http://localhost:3001/dealership/', options);\n  }\n  delData() {\n    let data = { brand: this.state.delBrand, model: this.state.delModel, year: this.state.delYear };\n    let options = {\n      method: 'delete',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }\n    fetch('http://localhost:3001/dealership/', options);\n\n  }\n  updateData() {\n    let data = { brand: this.state.updateBrand, model: this.state.updateModel, year: this.state.updateYear, id: this.state.updateID };\n    let options = {\n      method: 'put',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }\n    fetch('http://localhost:3001/dealership/', options);\n\n  }\n  getData() {\n    fetch('http://localhost:3001/dealership/')\n      .then(res => res.json())\n      .then(data => {\n        console.log(data);\n        this.setState(\n          (prevState) => { return { dealer: data.info } }  // I added the .info to data.info\n        )\n      });\n  }\n  // handleChange(event) {\n  //   this.setState({ [event.target.name]: event.target.value });\n  // }\n\n\n  handleChange(field, e) {\n    let fields = this.state.fields;\n    fields[field] = e.target.value;\n    this.setState({ fields });\n  }\n\n\n\n  // componentDidMount() {\n  //   var id = this.getCookie(\"id\");\n  //   var pass = this.getCookie(\"pass\");\n\n  //   if (id && pass) {\n  //     document.getElementById(\"email\").value = id;\n  //     document.getElementById(\"password\").value = pass;\n  //     $(\"#myCheck\").prop(\"checked\", true);\n\n  //   } else {\n  //     this.deleteCookie(\"pass\");\n  //     this.deleteCookie(\"id\");\n  //     this.clearFunc();\n  //     $(\"#myCheck\").prop(\"checked\", false);\n  //   }\n  // }\n\n  //Reset input fields\n  clearFunc() {\n    let fields = this.state.fields;\n\n    fields[\"email\"] = \"\";\n    fields[\"password\"] = \"\";\n\n    this.setState({ fields: fields });\n  }\n\n  // Remember Input fields\n  setRememberChkBox() {\n    if (this.getCookie(\"id\") != null && this.getCookie(\"pass\") != null) {\n      this.deleteCookie(\"pass\");\n      this.deleteCookie(\"id\");\n      this.clearFunc();\n    }\n  }\n\n  // Show the password\n  showPassword() {\n    this.setState({ hidden: !this.state.hidden });\n  }\n\n  // delete individual cookies\n  deleteCookie(name) {\n    // Set expire to an older date\n    document.cookie = name + \"= ; expires = Thu, 01 Jan 1970 00:00:00 GMT; path=/\";\n  }\n\n  // Set individual cookies\n  setCookie(name, value, days) {\n    var expires = \"\";\n    if (days) {\n      var date = new Date();\n      date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n      expires = \"; expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (value || \"\") + expires + \"; path=/\";\n  }\n\n  // Get individual cookies\n  getCookie(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n      while (c.charAt(0) === ' ') c = c.substring(1, c.length);\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n  }\n\n\n\n  handleValidation() {\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = false;\n\n    if (typeof fields[\"email\"] !== \"undefined\" || typeof fields[\"password\"] !== \"undefined\") {\n      if (fields[\"email\"] !== \"guest@gmail.com\" && fields[\"password\"] !== \"guest\") {\n        formIsValid = false;\n        errors[\"email\"] = \"Incorrect email!\";\n        errors[\"password\"] = \"Incorrect password!\";\n      }\n    }\n\n    if (fields[\"email\"] === \"guest@gmail.com\" && fields[\"password\"] === \"guest\") {\n      formIsValid = true;\n    }\n\n    this.setState({ errors: errors });\n    return formIsValid;\n  }\n\n  contactSubmit(e) {\n    e.preventDefault();\n\n    if (this.handleValidation()) {\n      window.location = \"./home.js\";\n      alert(\"You have successfully logged in!\");\n    } else {\n      window.location = \"./login.js\";\n      alert(\"You have typed either the wrong email or password!\")\n    }\n\n  }\n\n  render() {\n    return (\n      <div id=\"main\">\n        <div className=\"login-form\">\n          <h2>Sign in to Your Account</h2>\n          {/* <form action=\"./home.js\" onSubmit={this.contactSubmit.bind(this)} > */}\n          <form action=\"./home.js\" onSubmit={(e) => { this.postData(e) }, this.contactSubmit.bind(this)} >\n\n\n            <div className=\"text-center\" align=\"center\">\n              <img src={avatar} alt=\"./assets/images/avatar.jpg\" className=\"img-circle avatar\" />\n            </div>\n\n            <div className=\"form-group\" align=\"center\">\n              <input\n                ref=\"email\"\n                name=\"email\"\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Enter email\"\n                onChange={this.handleChange.bind(this, \"email\")}\n                value={this.state.fields[\"email\"]}\n                required=\"required\" />\n\n              <input\n                ref=\"password\"\n                name=\"password\"\n                type={this.state.hidden ? 'password' : 'text'}\n                className=\"form-control\"\n                placeholder=\"Enter password\"\n                onChange={this.handleChange.bind(this, \"password\")}\n                value={this.state.fields[\"password\"]}\n                required=\"required\" />\n            </div>\n\n            <div className=\"form-group\" align=\"center\">\n              <button type=\"submit\" className=\"btn btn-success btn-lg btn-block\" >Sign in</button>\n              <button type=\"reset\" className=\"btn btn-primary btn-block\" >Reset</button>\n            </div>\n            <input type=\"checkbox\" onClick={this.showPassword} />Show Password\n            <br />\n            <input type=\"checkbox\" value=\"0\" onClick={this.setRememberChkBox()} id=\"myCheck\" />Remember\n          </form>\n          <span><b className=\"valid\">User Name : guest@gmail.com<br />Password : guest</b></span>\n          <p className=\"text-center\" align=\"center\"><a href=\"signup.js\">Create an Account</a></p>\n        </div>\n      </div >\n    );\n  }\n}\n\nexport default LoginComponent;"]},"metadata":{},"sourceType":"module"}